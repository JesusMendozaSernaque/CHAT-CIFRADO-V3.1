<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat USS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body class="bg-dark text-light">
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10">
                <div class="card shadow border-0 chat-card">
                    <div class="card-header bg-gradient text-white d-flex justify-content-between align-items-center">
                        <div>
                            <h4 class="mb-0"><i class="bi bi-shield-lock"></i> CHAT USS CIFRADO</h4>
                        
                        </div>
                        <div class="text-end">
                            <div id="statusBadge" class="badge bg-danger">
                                <i class="bi bi-plug"></i> Desconectado
                            </div>
                            <div class="small mt-1">
                                Fingerprint: <code id="fingerprint">---</code>
                            </div>
                        </div>
                    </div>

                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <h6 class="text-uppercase text-muted mb-2">Identidad</h6>
                                <div class="mb-2">
                                    <label class="form-label small mb-1" for="username">Nombre de usuario</label>
                                    <input id="username" class="form-control form-control-sm" maxlength="16"
                                        placeholder="ej: Username">
                                </div>
                                <div class="mb-2">
                                    <label class="form-label small mb-1">Acciones</label>
                                    <div class="d-grid gap-2">
                                        <button id="connectBtn" class="btn btn-success btn-sm">
                                            <i class="bi bi-plug"></i> Conectar
                                        </button>
                                        <button id="disconnectBtn" class="btn btn-outline-danger btn-sm" disabled>
                                            <i class="bi bi-x-circle"></i> Desconectar
                                        </button>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <label class="form-label small mb-1">Clave compartida</label>
                                    <textarea id="sharedInfo" class="form-control form-control-sm" rows="4" readonly></textarea>
                                    <small class="text-muted">
                                        Verifica que el <strong>fingerprint</strong> coincida con el de tu contacto
                                        por un canal externo (autenticaci√≥n ligera).
                                    </small>
                              <div class="mb-2">
    <label class="form-label small mb-1">Opciones del chat</label>
    <div class="d-grid gap-2">

        <!-- Guardar TXT cifrado -->
        <button id="saveChatBtn" class="btn btn-info btn-sm">
            <i class="bi bi-save"></i> <strong>Guardar chat cifrado</strong>
        </button>

        <!-- Indicador -->
        <p id="saveStatus" class="text-success small mt-1" style="display:none;">
            üîê El archivo cifrado se gener√≥ correctamente.
        </p>

        <!-- Limpiar historial -->
        <button id="clearHistoryBtn" class="btn btn-warning btn-sm">
            <i class="bi bi-trash"></i> <strong>Limpiar historial</strong>
        </button>
        <input type="file" id="fileDecrypt" accept=".txt">
<button id="decryptBtn">Descifrar archivo</button>

<textarea id="decryptOutput" rows="10" class="form-control mt-2"
placeholder="Aqu√≠ aparecer√° el texto descifrado"></textarea>


    </div>
</div>


                                   <small class="text-muted">
                                       

                                    </small>
                                </div>
                            </div>

                            <div class="col-md-8 d-flex flex-column">
                                <h6 class="text-uppercase text-muted mb-2">Mensajes cifrados</h6>
                                <div id="messages" class="flex-grow-1 border rounded p-2 mb-2 messages-area bg-black bg-opacity-25">
                                    <div class="text-center text-muted small mt-4">
                                        <i class="bi bi-chat-dots"></i>
                                        Esperando mensajes cifrados...
                                    </div>
                                </div>
                                <div class="input-group input-group-sm">
                                    <input id="messageInput" class="form-control" placeholder="Escribe un mensaje..."
                                        maxlength="500" disabled>
                                    <button id="sendBtn" class="btn btn-primary" disabled>
                                        <i class="bi bi-send-fill"></i> Enviar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-footer text-center small text-muted bg-gradient-footer">
                       <strong> GRUPO 01 - TALLER DE LENGUAJES DE PROGRAMACION<strong>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/script.js"></script>
</body>

</html>



